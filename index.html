<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Jquery</title>
    <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
    <script src="spin.min.js" charset="utf-8"></script>
    <script>
      $(document).ready(function (){
        var pet=$('#main form').attr('action');
        var met=$('#main form').attr('method');
        //obtener valores individuales
        //var nom=document.fo.nombre.value;
        $('#main form').on('submit',function (e) {
          e.preventDefault();
          $.ajax({
            beforeSend:function () {
              var spinner = new Spinner().spin();

              $('#status').append(spinner.el);

            },
            url: pet,
            type: met,
            data: $('#main form').serialize(),
            success: function (resp) {
              $('#status').html('<strong>Exito</strong>');
              console.log(resp);
            },
            error: function (jqXHR,estado,error ){
              $('#status').html('<strong>Error</strong>');
              console.log(estado);
              console.log(error);
            },
            complete:function (jqXHR,estado) {
              console.log(estado);
            },
            timeout:10000
          });
        })
      })
    </script>
    <style>
      #main{
        background:#ADD8E6;
        margin-left: 100px;
        margin-bottom: 400px;
        margin-right: 100px;
      }
    </style>
  </head>
  <body>
      <div id="main">
        <h1>Formulario de contacto</h1>
        <form action="peticion.php" method="post" name="fo">
          <input type="text" name="nombre" placeholder="nombre..." required>
          <input type="email" name="email" required>
          <textarea name="mensaje" required></textarea>
          <div style="display:block;width:60%;margin:0 auto">
            <input type="submit" name="send" value="Enviar">
            <div id="status">

            </div>
          </div>
        </form>
      </div>
  </body>
</html>
